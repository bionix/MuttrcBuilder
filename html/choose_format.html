<%once>
    use Mutt::Config;
</%once>
<%args>
    $version # Version of muttrc we're building
    $args    # %ARGS from dispatch.html
</%args>
<%init>
    die("Invalid version") if ($version =~ m/[^0-9A-Za-z_.-]/);
    die("Invalid args")    unless ref $args;
    my $config = Mutt::Config->new($version);
</%init>
<&| components.html:page &>
<form method="post" action="muttrc.html">
  <p>How would you like your <tt>muttrc</tt> formatted?</p>
  <p>
    <label>
      <input type="radio" name="format" value="minimal" />
      Only print out the values that are different from the default.
    </label>
    <br />
    <label>
      <input type="radio" name="format" value="all" checked="checked" />
      Print out all values, with values that are their default
      commented out.
    </label>
    <br />
    <label>
      <input type="radio" name="format" value="categories" />
      As above, but organised by category.
    </label>
    <br />
    <label>
      <input type="radio" name="format" value="full" />
      Print out the variable reference section of the mutt manual, with
      the variables filled in.
    </label>
  </p>
  <p>
    <input type="submit" value="Build my muttrc" />
  </p>
<& components.html:copy_over_hidden_fields, args => $args,
  mutt => $config, page => "" &>
</form>
</&>
